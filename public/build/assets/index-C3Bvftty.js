import{c as T,r as R,j as e,u as D,m as S,L as p,F as d,i as W,k as _,n as E,R as L,b9 as x}from"./index-BncDn27B.js";import{B as v,S as w,a as $}from"./Subtitle-EIBA-Hk5.js";import{D as A,L as B}from"./Delete-DN_4O9m9.js";import{e as I}from"./Error-CC8F97pB.js";import{F as h}from"./Feedback-C0SvNv4r.js";import{T as O}from"./index-C0jNRMwo.js";import{g as P,d as U,r as C}from"./roles-DVscBMdW.js";import"./app-BShz7gyO.js";import"./BreadcrumbItem-BLbML1-v.js";import"./Table-Cy8UlfKH.js";class J extends R.Component{componentDidMount(){var s,a;(a=(s=this.props).get)==null||a.call(s)}componentWillUnmount(){this.props.reset()}render(){var m,l;if(!((m=this.props.content)!=null&&m.cms)||!((l=this.props.backend)!=null&&l.roles))return null;let{content:{cms:{pages:{components:{list:{action:s}},backend:{pages:{roles:{title:a,add:n,index:i,form:c}}}}}},backend:{roles:{loading:f,error:j,message:u,roles:o,total:g}}}=this.props;const k=e.jsx(e.Fragment,{children:e.jsx(I,{err:j})}),b=this.props.location.state?e.jsx(h,{time:5e3,message:this.props.location.state.message}):null,N=e.jsx(h,{message:u});o||(o=[]);const y=o.map(r=>D(r,{created_at:S(r.created_at),action:e.jsxs("div",{className:"text-center",children:[e.jsx(p,{to:`/admin/roles/${r.id}`,className:"mr-2",children:e.jsx(d,{icon:W,className:"text-green",fixedWidth:!0})}),e.jsx(p,{to:`/admin/roles/${r.id}/edit`,className:"mr-2",children:e.jsx(d,{icon:_,className:"text-brokenblue",fixedWidth:!0})}),e.jsx("span",{className:"mx-1",children:e.jsx(A,{deleteAction:()=>this.props.delete(r.id),children:e.jsx(d,{icon:E,className:"text-red",fixedWidth:!0})})})]})})),F=e.jsx(e.Fragment,{children:e.jsx(L,{children:e.jsx(B,{array:y,loading:f,data:JSON.stringify(o),get:this.props.get,total:g,bordered:!0,add:n,link:"/admin/roles/add",icon:x,title:i,className:"shadow-sm",fields:[{name:c.name,key:"name"},{name:c.description,key:"description"},{name:c.created_at,key:"created_at"},{name:s,key:"action",fixed:!0}]})})});return e.jsxs(e.Fragment,{children:[e.jsxs(O,{children:[e.jsx(v,{main:i,icon:x}),e.jsx(w,{children:a}),e.jsx($,{children:i})]}),e.jsxs("div",{children:[k,b,N,F]})]})}}const M=t=>({...t}),q=t=>({get:(s,a,n)=>t(P(s,a,n)),delete:s=>t(U(s)),reset:()=>t(C())}),se=T(M,q)(J);export{se as default};
