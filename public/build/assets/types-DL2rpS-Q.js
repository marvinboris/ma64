import{j as g}from"./index-BncDn27B.js";import{F as b}from"./Input-BldVOD2V.js";function j(r,s){return(a,...e)=>{const n={...r};if(e.length===1)return n[e[0]]=a.target.value,a.target.files&&R(a.target),s(n);const t=[];let o={...r};for(let l=0;l<e.length-1;l++){const i=e[l];o=o[i],t.push(o)}t[t.length-1][e[e.length-1]]=a.target.value;for(let l=1;l<e.length-1;l++){const i=e[e.length-1-l],c=t.length-1-l;t[c][i]=t[c+1]}n[e[0]]=t[0],s(n)}}const R=r=>{if(r.files&&r.files[0]){const s=r.files[0],a=new FileReader;a.onload=function(e){var o;const n=document.getElementById(`embed-${r.name}`);if(!n)return;n.style.backgroundImage=`url('${(o=e.target)==null?void 0:o.result}')`,n.style.backgroundSize="cover";const t=n.querySelector(".file-selected");t&&(t.innerHTML=s.name)},a.readAsDataURL(s)}};function F(r,s){return(a,e,n,t,o=[],l=[])=>Object.keys(a).map(i=>{const c=a[i],u=`${e}[${i}]`,m=n[i],d=t.concat(i);let x;const h=o.find(f=>new RegExp(f.regex.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(u));x=h?h.action(c):null;let p;const y=l.find(f=>new RegExp(f.regex.replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(u));return p=y?y.action(c):null,typeof c=="string"?g.jsxs(g.Fragment,{children:[x,g.jsx(b,{type:"text",className:"col-md-6 col-lg-4",name:u,placeholder:c,addon:g.jsx("span",{className:"text-small text-700",children:c}),onChange:f=>j(r,s)(f,...d),value:m}),p]}):g.jsx(g.Fragment,{children:F(r,s)(c,u,m,d,o,l)})})}export{R as a,j as o,F as r};
