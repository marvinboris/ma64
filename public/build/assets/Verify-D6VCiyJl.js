var C=Object.defineProperty;var y=(n,s,t)=>s in n?C(n,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[s]=t;var a=(n,s,t)=>y(n,typeof s!="symbol"?s+"":s,t);import{c as v,r as F,j as e,bf as H,bg as N,a as S,bh as k,bc as _,bi as A}from"./index-BncDn27B.js";import{F as D,a as M}from"./FormGroup-CjRq5iBt.js";import{M as R}from"./Input-_2KRDDar.js";import{b as V}from"./BetweenButton-CNQ28UJ2.js";import{e as E}from"./Error-CC8F97pB.js";import{F as I}from"./Feedback-C0SvNv4r.js";import{t as P}from"./Title-SdkjoYgV.js";import"./app-BShz7gyO.js";import"./WithTooltip-yJJWpatI.js";class T extends F.Component{constructor(){super(...arguments);a(this,"state",{code:""});a(this,"submitHandler",t=>{t.preventDefault(),this.props.onAuth(t.target)});a(this,"inputChangeHandler",t=>{const{name:r,value:o}=t.target;this.setState({[r]:o})})}componentDidMount(){if(!this.props.auth)return;const{auth:{hash:t},history:r}=this.props;t||r.push("/auth/admin/login")}componentWillUnmount(){const{onSetHash:t}=this.props;t(null)}render(){if(!this.props.auth||!this.props.content)return null;const{code:t}=this.state,{content:{cms:{pages:{auth:{admin:{verify:{enter:r,verification_code:o,didnt_receive_code:h,resend:p,continue:d}}}}}},auth:{hash:c,loading:u,error:x,message:f},onResendCode:j}=this.props;let l,m;l=e.jsxs(e.Fragment,{children:[r," ",e.jsx("span",{className:"text-blue",children:o})]}),m=e.jsxs(e.Fragment,{children:[e.jsx(R,{type:"text",icon:H,onChange:this.inputChangeHandler,value:t,name:"code",required:!0,placeholder:o}),e.jsx("input",{type:"hidden",name:"hash",value:c||""}),e.jsx(D,{className:"ml-2 mb-5 mt-4",children:e.jsxs("p",{className:"text-dark text-right",children:[h,"?"," ",e.jsx("strong",{className:"text-blue",style:{cursor:"pointer"},onClick:()=>j(c),children:p})]})}),e.jsx(V,{color:"blue",size:"lg",className:"py-3 px-4 btn-block",icon:N,children:d})]});const b=e.jsx(E,{err:x}),g=e.jsx(I,{message:f});let i=null;return u?i=e.jsx("div",{className:"h-100 d-flex justify-content-center align-items-center",children:e.jsx(S,{})}):i=e.jsx(M,{onSubmit:this.submitHandler,children:m}),e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h4",children:l}),b,g,i]})}}const $=n=>({...n}),q=n=>({onAuth:s=>n(k(s)),onSetHash:s=>n(_(s)),onResendCode:s=>n(A(s))}),Q=v($,q)(T);export{T as Verify,Q as default};
