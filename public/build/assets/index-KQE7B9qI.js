import{c as T,r as D,j as e,u as S,m as W,L as p,F as d,i as _,k as E,n as L,R as v,b7 as x}from"./index-BncDn27B.js";import{B as w,S as R,a as $}from"./Subtitle-EIBA-Hk5.js";import{D as A,L as B}from"./Delete-DN_4O9m9.js";import{e as I}from"./Error-CC8F97pB.js";import{F as f}from"./Feedback-C0SvNv4r.js";import{T as O}from"./index-C0jNRMwo.js";import{g as P,d as C,r as J}from"./features-BGWhQVVm.js";import"./app-BShz7gyO.js";import"./BreadcrumbItem-BLbML1-v.js";import"./Table-Cy8UlfKH.js";class M extends D.Component{componentDidMount(){var s,a;(a=(s=this.props).get)==null||a.call(s)}componentWillUnmount(){this.props.reset()}render(){var m,l;if(!((m=this.props.content)!=null&&m.cms)||!((l=this.props.backend)!=null&&l.features))return null;let{content:{cms:{pages:{components:{list:{action:s}},backend:{pages:{features:{title:a,add:o,index:i,form:c}}}}}},backend:{features:{loading:h,error:u,message:j,features:n,total:g}}}=this.props;const k=e.jsx(e.Fragment,{children:e.jsx(I,{err:u})}),b=this.props.location.state?e.jsx(f,{time:5e3,message:this.props.location.state.message}):null,F=e.jsx(f,{message:j});n||(n=[]);const N=n.map(r=>S(r,{created_at:W(r.created_at),action:e.jsxs("div",{className:"text-center",children:[e.jsx(p,{to:`/admin/features/${r.id}`,className:"mx-1",children:e.jsx(d,{icon:_,className:"text-green",fixedWidth:!0})}),e.jsx(p,{to:`/admin/features/${r.id}/edit`,className:"mx-1",children:e.jsx(d,{icon:E,className:"text-brokenblue",fixedWidth:!0})}),e.jsx("span",{className:"mx-1",children:e.jsx(A,{deleteAction:()=>this.props.delete(r.id),children:e.jsx(d,{icon:L,className:"text-red",fixedWidth:!0})})})]})})),y=e.jsx(e.Fragment,{children:e.jsx(v,{children:e.jsx(B,{array:N,loading:h,data:JSON.stringify(n),get:this.props.get,total:g,bordered:!0,add:o,link:"/admin/features/add",icon:x,title:i,className:"shadow-sm",fields:[{name:c.name,key:"name"},{name:c.prefix,key:"prefix"},{name:c.created_at,key:"created_at"},{name:s,key:"action",fixed:!0}]})})});return e.jsxs(e.Fragment,{children:[e.jsxs(O,{children:[e.jsx(w,{main:i,icon:x}),e.jsx(R,{children:a}),e.jsx($,{children:i})]}),e.jsxs("div",{children:[k,b,F,y]})]})}}const U=t=>({...t}),q=t=>({get:(s,a,o)=>t(P(s,a,o)),delete:s=>t(C(s)),reset:()=>t(J())}),se=T(U,q)(M);export{se as default};
