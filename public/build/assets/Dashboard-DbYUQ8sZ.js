import{c as Q,r as Y,b3 as q,b4 as z,b5 as H,b6 as J,u as o,j as e,L as i,F as r,i as m,k as x,n as h,l as S,C as K,a as X,R as _,Q as u}from"./index-BncDn27B.js";import{B as Z,S as ee,a as te}from"./Subtitle-EIBA-Hk5.js";import{T as j,C as se,g as ae,r as ie}from"./dashboard-DvzCRWrA.js";import{T as re}from"./index-C0jNRMwo.js";import{e as le}from"./Error-CC8F97pB.js";import"./app-BShz7gyO.js";import"./BreadcrumbItem-BLbML1-v.js";import"./Table-Cy8UlfKH.js";class ne extends Y.Component{componentDidMount(){var n,l;(l=(n=this.props).get)==null||l.call(n)}componentWillUnmount(){var n,l;(l=(n=this.props).reset)==null||l.call(n)}render(){var W,D;if(!((W=this.props.content)!=null&&W.cms)||!((D=this.props.backend)!=null&&D.dashboard))return null;let{content:{cms:{pages:{backend:{pages:{dashboard:{admin:{title:n,subtitle:l,blocks:{total_restaurants:y,total_plans:N,total_plans_amount:C,total_recharges:w}}}}}}}},backend:{dashboard:{loading:$,error:v,blocksData:d,totalCycles:p,totalYears:b,totalSubjects:f,totalStudents:g}}}=this.props,k=null,T=null;if($)k=e.jsx(K,{xs:12,children:e.jsx(X,{})});else if(T=e.jsx(e.Fragment,{children:e.jsx(le,{err:v})}),d){const A=[{title:y,children:d.totalCycles,icon:q,link:"/admin/cycles/",color:"yellow",details:y,titleColor:"white"},{title:N,children:d.totalYears,icon:z,link:"/admin/years/",color:"brown",details:N,titleColor:"white"},{title:C,children:d.totalSubjects,icon:H,link:"/admin/subjects/",color:"lightyellow",details:C,titleColor:"white"},{title:w,children:d.totalStudents,icon:J,link:"/admin/students/",color:"darkhead",details:w,titleColor:"white"}].map(({title:t,titleColor:s,icon:a,link:L,color:R,children:M,details:P,circleBorder:U,circleColor:G,light:I},O)=>e.jsx(se,{color:R,title:t,titleColor:s,details:P,circleBorder:U,circleColor:G,icon:a,link:L,light:I,children:M},O)),F=p==null?void 0:p.map(t=>o(t,{action:e.jsxs("div",{className:"text-center",children:[e.jsx(i,{className:"text-blue mr-2",to:`/admin/cycles/${t.id}`,children:e.jsx(r,{icon:m,fixedWidth:!0})}),e.jsx(i,{className:"text-green mr-2",to:`/admin/cycles/${t.id}/edit`,children:e.jsx(r,{icon:x,fixedWidth:!0})}),e.jsx("a",{className:"text-red",href:"#",onClick:()=>{var s,a;return(a=(s=this.props).deletecycles)==null?void 0:a.call(s,t.id)},children:e.jsx(r,{icon:h,fixedWidth:!0})})]})})),B=b==null?void 0:b.map(t=>o(t,{action:e.jsxs("div",{className:"text-center",children:[e.jsx(i,{className:"text-blue mr-2",to:`/admin/years/${t.id}`,children:e.jsx(r,{icon:m,fixedWidth:!0})}),e.jsx(i,{className:"text-green mr-2",to:`/admin/years/${t.id}/edit`,children:e.jsx(r,{icon:x,fixedWidth:!0})}),e.jsx("a",{className:"text-red",href:"#",onClick:()=>{var s,a;return(a=(s=this.props).deleteyears)==null?void 0:a.call(s,t.id)},children:e.jsx(r,{icon:h,fixedWidth:!0})})]})})),E=f==null?void 0:f.map(t=>o(t,{action:e.jsxs("div",{className:"text-center",children:[e.jsx(i,{className:"text-blue mr-2",to:`/admin/subjects/${t.id}`,children:e.jsx(r,{icon:m,fixedWidth:!0})}),e.jsx(i,{className:"text-green mr-2",to:`/admin/subjects/${t.id}/edit`,children:e.jsx(r,{icon:x,fixedWidth:!0})}),e.jsx("a",{className:"text-red",href:"#",onClick:()=>{var s,a;return(a=(s=this.props).deletesubjects)==null?void 0:a.call(s,t.id)},children:e.jsx(r,{icon:h,fixedWidth:!0})})]})})),V=g==null?void 0:g.map(t=>o(t,{action:e.jsxs("div",{className:"text-center",children:[e.jsx(i,{className:"text-blue mr-2",to:`/admin/students/${t.id}`,children:e.jsx(r,{icon:m,fixedWidth:!0})}),e.jsx(i,{className:"text-green mr-2",to:`/admin/students/${t.id}/edit`,children:e.jsx(r,{icon:x,fixedWidth:!0})}),e.jsx("a",{className:"text-red",href:"#",onClick:()=>{var s,a;return(a=(s=this.props).deletestudents)==null?void 0:a.call(s,t.id)},children:e.jsx(r,{icon:h,fixedWidth:!0})})]})}));k=e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pt-4 px-4 pb-3 bg-yellow-10",children:e.jsx(_,{children:A})}),e.jsxs(_,{className:"mt-5",children:[e.jsx(j,{array:F||[],searchable:!0,draggable:!0,closable:!0,title:"Total Cycles",icon:u,bordered:!0,limit:5,lg:6,fields:[{name:"Name",key:"name"},{name:"Slug",key:"slug"},{name:"Action",key:"action"}],children:e.jsx(i,{to:"/admin/cycles",className:"text-reset",children:"View full cycle list | >"})}),e.jsx(j,{array:B||[],searchable:!0,draggable:!0,closable:!0,title:"Total Years",icon:u,bordered:!0,limit:5,lg:6,fields:[{name:"Name",key:"name"},{name:"Slug",key:"slug"},{name:"Action",key:"action"}],children:e.jsx(i,{to:"/admin/years",className:"text-reset",children:"View full year list | >"})}),e.jsx(j,{array:E||[],searchable:!0,draggable:!0,closable:!0,title:"Total Subjects",icon:u,bordered:!0,limit:5,lg:6,fields:[{name:"Name",key:"name"},{name:"Slug",key:"slug"},{name:"Action",key:"action"}],children:e.jsx(i,{to:"/admin/subjects",className:"text-reset",children:"View full subject list | >"})}),e.jsx(j,{array:V||[],searchable:!0,draggable:!0,closable:!0,title:"Total Students",icon:u,bordered:!0,limit:5,lg:6,fields:[{name:"First name",key:"first_name"},{name:"Last name",key:"last_name"},{name:"Birth date",key:"birth_date"},{name:"Birth place",key:"birth_place"},{name:"Matricule",key:"matricule"},{name:"Action",key:"action"}],children:e.jsx(i,{to:"/admin/students",className:"text-reset",children:"View full student list | >"})})]})]})}return e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(Z,{main:l,icon:S}),e.jsx(ee,{user:!0,icon:S,children:n}),e.jsx(te,{user:!0,children:l})]}),e.jsxs("div",{className:"p-4 pb-0",children:[T,k]})]})}}const ce=c=>({...c}),de=c=>({get:()=>c(ae()),reset:()=>c(ie())}),ge=Q(ce,de)(ne);export{ge as default};
