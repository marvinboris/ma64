var x=Object.defineProperty;var f=(r,s,t)=>s in r?x(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;var o=(r,s,t)=>f(r,typeof s!="symbol"?s+"":s,t);import{c as j,r as b,j as e,a as C,bb as v,bc as H}from"./index-BncDn27B.js";import{a as y}from"./FormGroup-CjRq5iBt.js";import{t as w}from"./Title-SdkjoYgV.js";import{M as c}from"./Input-_2KRDDar.js";import{b as F}from"./BetweenButton-CNQ28UJ2.js";import{e as S}from"./Error-CC8F97pB.js";import{F as _}from"./Feedback-C0SvNv4r.js";import"./app-BShz7gyO.js";import"./WithTooltip-yJJWpatI.js";class k extends b.Component{constructor(){super(...arguments);o(this,"state",{email:"",password:""});o(this,"submitHandler",t=>{t.preventDefault(),this.props.onAuth(t.target)});o(this,"inputChangeHandler",t=>{const{name:a,value:n}=t.target;this.setState({[a]:n})})}componentDidUpdate(){if(!this.props.auth)return;const{auth:{hash:t},onSetHash:a,history:n}=this.props;t&&(a(t),n.push("/auth/verify"))}render(){if(!this.props.content||!this.props.auth)return null;const{email:t,password:a}=this.state,{content:{cms:{pages:{auth:{user:{login:n}}}}},auth:{loading:m,error:h,message:u}}=this.props;let l,p;l=e.jsxs(e.Fragment,{children:[n.dont_be_late,"!"," ",e.jsx("span",{className:"text-border",children:n.get_in})]}),p=e.jsxs(e.Fragment,{children:[e.jsx(c,{type:"text",icon:"user",onChange:this.inputChangeHandler,validation:{required:!0,isEmail:!0},value:t,name:"email",required:!0,placeholder:n.email_address}),e.jsx(c,{type:"password",icon:"lock",onChange:this.inputChangeHandler,validation:{required:!0},value:a,name:"password",required:!0,placeholder:n.password}),e.jsx(F,{color:"border",size:"lg",className:"py-3 px-4 btn-block",icon:"sign-in-alt",children:n.sign_in})]});const d=e.jsx(S,{err:h}),g=e.jsx(_,{message:u});let i=null;return m?i=e.jsx("div",{className:"h-100 d-flex justify-content-center align-items-center",children:e.jsx(C,{})}):i=e.jsx(y,{onSubmit:this.submitHandler,children:p}),e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"h4",children:l}),d,g,i]})}}const q=r=>({...r}),N=r=>({onAuth:s=>r(v(s)),onSetHash:s=>r(H(s))}),B=j(q,N)(k);export{k as Login,B as default};
