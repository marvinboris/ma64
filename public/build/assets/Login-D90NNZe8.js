var E=Object.defineProperty;var $=(e,r,t)=>r in e?E(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var j=(e,r,t)=>$(e,typeof r!="symbol"?r+"":r,t);import{P as o,T as q,bd as S,V as _,W as N,b as A,c as D,r as R,j as n,a as B,be as G,bc as I}from"./index-BncDn27B.js";import{F as U,a as V}from"./FormGroup-CjRq5iBt.js";import{t as J}from"./Title-SdkjoYgV.js";import{M as y}from"./Input-_2KRDDar.js";import{b as K}from"./BetweenButton-CNQ28UJ2.js";import{e as Q}from"./Error-CC8F97pB.js";import{F as Y}from"./Feedback-C0SvNv4r.js";import"./app-BShz7gyO.js";import"./WithTooltip-yJJWpatI.js";var Z=["className","cssModule","hidden","widths","tag","check","size","for"];function k(){return k=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},k.apply(this,arguments)}function w(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function X(e,r){if(e==null)return{};var t=W(e,r),a,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)a=l[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function W(e,r){if(e==null)return{};var t={},a=Object.keys(e),s,l;for(l=0;l<a.length;l++)s=a[l],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}var ee=["xs","sm","md","lg","xl","xxl"],P=o.oneOfType([o.number,o.string]),d=o.oneOfType([o.bool,o.string,o.number,o.shape({size:P,order:P,offset:P})]),te={children:o.node,hidden:o.bool,check:o.bool,size:o.string,for:o.string,tag:q,className:o.string,cssModule:o.object,xs:d,sm:d,md:d,lg:d,xl:d,xxl:d,widths:o.array},H=function(r,t,a){return a===!0||a===""?r?"col":"col-".concat(t):a==="auto"?r?"col-auto":"col-".concat(t,"-auto"):r?"col-".concat(a):"col-".concat(t,"-").concat(a)};function F(e){var r=e.className,t=e.cssModule,a=e.hidden,s=e.widths,l=s===void 0?ee:s,f=e.tag,C=f===void 0?"label":f,g=e.check,c=e.size,b=e.for,x=X(e,Z),u=[];l.forEach(function(p,z){var i=e[p];if(delete x[p],!(!i&&i!=="")){var O=!z,v;if(S(i)){var h,T=O?"-":"-".concat(p,"-");v=H(O,p,i.size),u.push(_(N((h={},w(h,v,i.size||i.size===""),w(h,"order".concat(T).concat(i.order),i.order||i.order===0),w(h,"offset".concat(T).concat(i.offset),i.offset||i.offset===0),h))),t)}else v=H(O,p,i),u.push(v)}});var m=c||u.length,L=!(g||m),M=_(N(r,a?"visually-hidden":!1,g?"form-check-label":!1,c?"col-form-label-".concat(c):!1,u,m?"col-form-label":!1,L?"form-label":!1),t);return A.createElement(C,k({htmlFor:b},x,{className:M}))}F.propTypes=te;class re extends R.Component{constructor(){super(...arguments);j(this,"state",{email:"",password:"",otp:"email"});j(this,"submitHandler",t=>{t.preventDefault(),this.props.onAuth(t.target)});j(this,"inputChangeHandler",t=>{const{name:a,value:s}=t.target;this.setState({[a]:s})})}componentDidUpdate(){if(!this.props.auth)return;const{auth:{hash:t},onSetHash:a,history:s}=this.props;t&&(a(t),s.push("/auth/admin/verify"))}render(){if(!this.props.content||!this.props.auth)return null;const{email:t,password:a}=this.state,{content:{cms:{pages:{auth:{admin:{login:s}}}}},auth:{loading:l,error:f,message:C},dark:g=!1}=this.props;let c,b;c=n.jsxs(n.Fragment,{children:[s.sign_in_to," ",n.jsx("span",{className:"text-blue",children:s.admin_panel})]}),b=n.jsxs(n.Fragment,{children:[n.jsx(y,{type:"text",icon:"user",onChange:this.inputChangeHandler,validation:{required:!0,isEmail:!0},value:t,name:"email",required:!0,placeholder:s.email_address}),n.jsx(y,{type:"password",icon:"lock",onChange:this.inputChangeHandler,validation:{required:!0},value:a,name:"password",required:!0,placeholder:s.password}),n.jsxs(U,{className:`ml-2 mt-4 mb-5 d-flex align-items-center text-${g?"light":"dark"}`,children:[n.jsx("div",{className:"text-700 pr-4",children:s.otp_method}),n.jsxs(F,{check:!0,children:[n.jsx(y,{type:"radio",id:"sms",name:"otp",value:"sms",disabled:!0}),s.sms]}),n.jsxs(F,{check:!0,children:[n.jsx(y,{type:"radio",id:"email",defaultChecked:!0,name:"otp",value:"email"}),s.email]})]}),n.jsx(K,{color:"blue",size:"lg",className:"py-3 px-4 btn-block",icon:"sign-in-alt",children:s.sign_in})]});const x=n.jsx(Q,{err:f}),u=n.jsx(Y,{message:C});let m=null;return l?m=n.jsx("div",{className:"h-100 d-flex justify-content-center align-items-center",children:n.jsx(B,{})}):m=n.jsx(V,{onSubmit:this.submitHandler,children:b}),n.jsxs(n.Fragment,{children:[n.jsx(J,{className:"h4",children:c}),x,u,m]})}}const ae=e=>({...e}),se=e=>({onAuth:r=>e(G(r)),onSetHash:r=>e(I(r))}),fe=D(ae,se)(re);export{re as Login,fe as default};
