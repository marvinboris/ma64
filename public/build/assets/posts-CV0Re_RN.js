import{c as x,r as h,j as o,M as S,C as j,I as b,B as f,D as g,E as w}from"./index-BncDn27B.js";class y extends h.Component{render(){var n;if(!((n=this.props.content)!=null&&n.cms))return;const{content:{cms:{pages:{frontend:{pages:{posts:{body:{sidebar:t}}}}}}},posts:s}=this.props,a=localStorage.getItem("lang"),c=s==null?void 0:s.filter((l,r)=>r<3).map(({link:l,photo:r,title:m})=>o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"mb-2",children:o.jsx(S,{to:l,className:"text-dark",children:m[a]})}),o.jsx("div",{className:"embed-responsive embed-responsive-16by9",style:{background:'url("'+r+'") no-repeat center',backgroundSize:"cover"}})]},r));return o.jsxs(j,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"text-500",children:t.search.title}),o.jsx(b,{type:"search",placeholder:t.search.form.search+" ..."})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"text-500",children:t.popular_posts.title}),c]})]})}}const P=e=>({...e}),v=x(P)(y),i=()=>({type:f}),p=e=>({type:g,...e}),d=e=>({type:w,error:e}),N=e=>async t=>{t(i());try{let s;e||(s=await fetch(`${window.PREFIX}posts`));const a=await s.json();t(p(a))}catch(s){console.log(s),t(d(s))}},E=(e,t)=>async s=>{s(i());try{let a;e?a=await fetch(`${window.PREFIX}post-categories/${e}/posts/${t}`):a=await fetch(`${window.PREFIX}posts/${t}`);const c=await a.json();s(p(c))}catch(a){console.log(a),s(d(a))}};export{v as S,N as a,E as g};
