import{j as e,C as F,F as i,I as z,a9 as B,aa as H,L,ab as O,ac as k,ad as P,ae as U}from"./index-BncDn27B.js";import{T as W}from"./Table-Cy8UlfKH.js";const K=({fields:s,array:l,limit:n,bordered:t,xs:d,sm:o,md:u,lg:g,xl:p,className:N="",title:f,icon:m,dark:a=!1,borderless:y,innerClassName:v="",outerClassName:w="",p0:A,select:j,children:S,selectHandler:$,style:D,searchable:R,draggable:T,closable:C})=>{const x=s.map(({name:c})=>e.jsx("th",{className:"align-middle text-nowrap",children:c},c));x.unshift(e.jsx("th",{className:"text-center align-middle",children:"SL"},"#")),j&&x.unshift(e.jsx("th",{className:"align-middle text-center",children:e.jsx("input",{type:"checkbox",onClick:$,className:"select_all"})},"select_all"));const _=l.map((c,r)=>{if(n&&r>=n)return null;let h=[e.jsx("th",{className:"text-center align-middle",children:r+1},"primary"+r)];return j&&h.unshift(e.jsx("th",{className:"text-center align-middle",children:e.jsx("input",{type:"checkbox",value:c._id})},"white"+r)),s.forEach(({key:b,minWidth:E,maxWidth:I})=>{h.push(e.jsx("td",{className:"align-middle text-nowrap text-truncate",style:{minWidth:E,maxWidth:I},children:c[b]},b))}),e.jsx("tr",{className:"align-middle",children:h},r+1)});return e.jsx(F,{xs:d,sm:o,md:u,lg:g,xl:p,className:`pb-4 ${w}`,children:e.jsxs("div",{className:`d-flex flex-column h-100 shadow-sm ${a?"text-light bg-darklight ":"text-secondary bg-soft"} ${N}`,style:D,children:[e.jsxs("div",{className:`p-3 border-bottom border-${a?"border":"border-50"} text-700 text-brokenblue d-flex position-relative`,children:[e.jsxs("span",{className:`d-inline-flex text-${a?"yellow":"reset"} align-items-center`,children:[m?e.jsx(i,{fixedWidth:!0,className:"mr-2 text-"+(a?"yellow":"reset"),icon:m,size:"lg"}):null,f]}),e.jsxs("div",{className:"ml-auto d-none d-lg-flex justify-content-end align-items-center text-"+(a?"light":"secondary")+" position-absolute",style:{top:"50%",right:16,transform:"translateY(-50%)"},children:[R?e.jsx(z,{type:"search",name:"search",className:`bg-${a?"darkblue border-0":""} rounded-2 mr-3`,placeholder:"Search here..."}):null,T?e.jsx(i,{icon:B,size:"lg",className:"mr-3"}):null,C?e.jsx(i,{icon:H,size:"2x"}):null]})]}),e.jsxs("div",{className:"flex-fill d-flex flex-column "+(A?"p-0":"p-3"),children:[e.jsx("div",{className:"table-responsive flex-fill",children:e.jsxs(W,{dark:a,bordered:t,hover:!0,borderless:y,className:`bg-${a?"darkblue":""} ${v}`,children:[e.jsx("thead",{className:a?"text-light":"bg-white text-secondary",children:e.jsx("tr",{children:x})}),e.jsx("tbody",{className:a?"bg-darklight-50 text-light":"bg-white-50 text-secondary",children:_})]})}),e.jsx("div",{className:"pt-3",children:S})]})]})})},M=({children:s,icon:l,link:n,color:t,details:d})=>e.jsx("div",{className:"col-xxl-3 col-6 pb-3 pb-xxl-0",children:e.jsxs(L,{to:n,className:`bg-${t}-10 rounded-8 text-decoration-none text-${t} px-4 py-4 d-flex align-items-center`,children:[e.jsx("div",{className:"mr-4 d-none d-sm-block",children:e.jsx(i,{icon:l,className:`text-33 text-${t}-50`})}),e.jsxs("div",{className:"w-100",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("div",{className:"text-montserrat text-700 text-35",children:s}),e.jsx("div",{className:"d-sm-none",children:e.jsx(i,{icon:l,className:`text-33 text-${t}-50`})})]}),e.jsx("div",{className:"text-12 text-300 text-truncate",children:d})]})]})}),Q=()=>({type:O}),X=()=>({type:k}),Y=s=>({type:P,...s}),q=s=>({type:U,error:s}),V=()=>async(s,l)=>{s(X());const{role:n}=l().auth;try{const t=localStorage.getItem("token"),o=await(await fetch(`${window.PREFIX+n}/dashboard`,{headers:{Authorization:t||""}})).json();s(Y(o))}catch(t){console.log(t),s(q(t))}};export{M as C,K as T,V as g,Q as r};
