import{c as _,r as $,j as e,u as v,m as A,F as i,i as j,L as f,k as E,n as L,R as U,aU as u}from"./index-BncDn27B.js";import{B as R,S as B,a as I}from"./Subtitle-EIBA-Hk5.js";import{D as O,L as P}from"./Delete-DN_4O9m9.js";import{e as V}from"./Error-CC8F97pB.js";import{F as g}from"./Feedback-C0SvNv4r.js";import{T as C}from"./index-C0jNRMwo.js";import{V as J}from"./View-DYaRmNR8.js";import{g as M,d as q}from"./admins-BEmY--BK.js";import{r as z}from"./users-DD1ZIDYJ.js";import"./app-BShz7gyO.js";import"./BreadcrumbItem-BLbML1-v.js";import"./Table-Cy8UlfKH.js";class G extends $.Component{componentDidMount(){var s,t;(t=(s=this.props).get)==null||t.call(s)}componentWillUnmount(){var s,t;(t=(s=this.props).reset)==null||t.call(s)}render(){var d,l,p;if(!this.props.content||!((d=this.props.backend)!=null&&d.admins))return null;let{content:{cms:{pages:{components:{list:{action:s,see:t}},backend:{pages:{admins:{title:m,add:k,index:c,form:n}}}}}},backend:{admins:{loading:N,error:b,message:y,admins:o,total:F}}}=this.props;const T=e.jsx(e.Fragment,{children:e.jsx(V,{err:b})}),W=(l=this.props.location)!=null&&l.state?e.jsx(g,{time:5e3,message:(p=this.props.location)==null?void 0:p.state.message}):null,w=e.jsx(g,{message:y});o||(o=[]);const D=o.map(a=>v(a,{created_at:A(a.created_at),photo:a.photo&&e.jsxs("div",{className:"d-flex",children:[e.jsx("span",{children:t}),e.jsx("span",{className:"ml-auto",children:e.jsx(J,{title:`${n.user_photo}: ${a.name}`,content:e.jsx("img",{src:a.photo,className:"w-100"}),children:e.jsx(i,{icon:j,className:"text-green mr-2",fixedWidth:!0})})})]}),action:e.jsxs("div",{className:"text-center",children:[e.jsx(f,{to:`/admin/admins/${a.id}`,className:"mx-1",children:e.jsx(i,{icon:j,className:"text-green",fixedWidth:!0})}),e.jsx(f,{to:`/admin/admins/${a.id}/edit`,className:"mx-1",children:e.jsx(i,{icon:E,className:"text-brokenblue",fixedWidth:!0})}),e.jsx("span",{className:"mx-1",children:e.jsx(O,{deleteAction:()=>{var x,h;return(h=(x=this.props).delete)==null?void 0:h.call(x,a.id)},children:e.jsx(i,{icon:L,className:"text-red",fixedWidth:!0})})})]})})),S=e.jsx(e.Fragment,{children:e.jsx(U,{children:e.jsx(P,{array:D,loading:N,data:JSON.stringify(o),get:this.props.get,total:F,bordered:!0,add:k,link:"/admin/admins/add",icon:u,title:c,className:"shadow-sm",fields:[{name:n.full_name,key:"name"},{name:n.email,key:"email"},{name:n.phone,key:"phone"},{name:n.photo,key:"photo"},{name:s,key:"action",fixed:!0}]})})});return e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsx(R,{main:c,icon:u}),e.jsx(B,{children:m}),e.jsx(I,{children:c})]}),e.jsxs("div",{children:[T,W,w,S]})]})}}const H=r=>({...r}),K=r=>({get:(s,t,m)=>r(M(s,t,m)),delete:s=>r(q(s)),reset:()=>r(z())}),me=_(H,K)(G);export{me as default};
