var V=Object.defineProperty;var G=(a,r,t)=>r in a?V(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t;var T=(a,r,t)=>G(a,typeof r!="symbol"?r+"":r,t);import{c as M,r as A,u as U,j as e,N as W,C as p,R as j,I as O,a as J}from"./index-BncDn27B.js";import{F as I}from"./FormGroup-CjRq5iBt.js";import{B as Q,S as Y,a as Z}from"./Subtitle-EIBA-Hk5.js";import{e as K}from"./Error-CC8F97pB.js";import{a as X}from"./Input-BldVOD2V.js";import{b as ee}from"./BetweenButton-CNQ28UJ2.js";import{T as se}from"./index-C0jNRMwo.js";import{F as te}from"./Feedback-C0SvNv4r.js";import{g as re,p as oe,r as ae}from"./cms-Dgxu_C9N.js";import{r as S}from"./types-DL2rpS-Q.js";import"./app-BShz7gyO.js";import"./BreadcrumbItem-BLbML1-v.js";import"./WithTooltip-yJJWpatI.js";const _={header:{menu:{home:"Accueil",about:"A propos",courses:"Cours",products:"Produits",posts:"Blog",contact:"Contact"}},footer:{top:{address:{title:"Adresse",cm:`Douala - Cameroun
Akwa, Camp Yassa`,fr:`78 Route du Rhin
67400 Illkirch Graffenstaden`},phone_email:{title:"Téléphone & Email",phone:{label:"Téléphone",value:["(+237) 656 395 217","(+33) 769 570 133"]},email:{label:"Email",value:["contact@themasterofarts.com"]}},newsletter:{title:"Souscrire à notre Newsletter",form:{email:"E-mail address",submit:"Envoyer"}},partners:{title:"Nos partenaires",body:["/images/20200217_014932-removebg-preview.png","/images/cropped-cropped-TekZone-Logo-Transparent.png"]},facebook_likes:{title:"Likes Facebook"}},bottom:{all_rights_reserved:"Tous droits réservés",social_networks:{facebook:"//www.facebook.com/Themasterofarts",linkedin:"//www.linkedin.com/company/ma64",youtube:"//www.youtube.com/channel/UCcS0kG75hsf3Rt0-sYyG-0A/",instagram:"//www.instagram.com/masterart_64/",whatsapp:"//api.whatsapp.com/send?phone=+237%20656395217"}}},pages:{home:{banner:{carousel:[{src:"/images/photo_2021-09-07_11-58-47.jpg"},{src:"/images/photo_2021-09-07_11-58-53.jpg"},{src:"/images/photo_2021-09-07_11-58-57.jpg"}],body:{title:"Obtenir vos kits et accessoires High Tech",description:"Des kits d'education, l'électronique pour vos projets , des formations certifiantes et du financement participatif.",ask_price:"Demander le prix",crowdfunding:"Crowdfunding"}},features:{from_air:"From air",best_drones:"Best drones",speed:"Speed",long_range:"Long range",ask_price:"Demander le prix"},qualification_assistance:{title:"Assistance à la Qualification",description:"Réussissez votre projet d'études en IA, Robotique, Data Science grâce à des programmes en ligne.",points:["La jeunesse de la francophonie vise les hautes ingénieries.","Un intérêt croissant pour les métiers informatiques depuis la crise du Covid.","En cycle Licence, beaucoup aspirent à des spécialisations.","Themasterofarts offre des tutoriels, du matériel, expertise et télé-expertise pour l'innovation.","Nous offrons des programmes garantissant des bourses, l'accès à des Master d'élite.","Nos partenariats rendent l'innovation possible aux jeunes entrepreneurs."],img:"/images/computer.png"},products:{title:"Nos produits",description:"Sélectionnez le produit qui vous intéresse et vous recevrez les instructions de paiement et livraison sur WhatsApp."},squares:{education_kits:{title:"Des kits d'éducation",description:"Fournissez vous en matériel d'éducation pour vos projets, Nos kits d'education adaptés pour des prototypages de drones modulaires (aériens, sous-marins, mobiles)",ask_price:"Demander le prix",img:"/images/photo_2021-08-07_21-08-43.jpg"},online_workshops:{title:"Ateliers en ligne",description:"Formez vous depuis chez vous chaque weekend de manière accélerée avec vos kits de manière personnalisée et a la demande",ask_price:"Demander le prix",img:"/images/photo_2021-08-07_21-06-47.jpg"}},blog:{title:"Notre blog",description:"Retrouvez les dernières nouvelles et actualités du domaine qui est le nôtre."}},products:{banner:{title:"Produits"},form:{go:"Aller",reset:"Réinitialiser",sort_product_by:"Trier les produits par",filter_by_price:"Filtrer par prix",filter_by_brands:"Filtrer par marque"}},posts:{banner:{title:"Blog"},body:{sidebar:{search:{title:"RECHERCHER",form:{search:"Rechercher"}},popular_posts:{title:"ARTICLES POPULAIRES"}},main:{written_by:"Écrit par",read_more:"Read more"}}}}},q="wrench",i=({sm:a=!1})=>e.jsx(p,{xs:12,className:`mb-${a?2:3}`}),ne=({frontend:a,language:r})=>{const[t,o]=A.useState(`${r.abbr}-header`),[s,n]=A.useState(a),f=c=>{const{value:u}=c.target;u!==t&&o(u)},D=Object.keys(a||{}).sort((c,u)=>c.localeCompare(u)).map(c=>{const u=`${r.abbr}-${c}`;return e.jsx("option",{className:"text-capitalize",value:u,children:c.split("_").join(" ")},u)}),x=`${r.abbr}[frontend]`,b=_.header,k=`${x}[header]`,v=s==null?void 0:s.header,g=["header"],w=S(s,n)(b,k,v,g,[],[{regex:`${k}[top][facebook_likes][title]`,action:()=>e.jsx(i,{})}]),$=_.footer,d=`${x}[footer]`,C=s==null?void 0:s.footer,y=["footer"],F=S(s,n)($,d,C,y,[{regex:`${d}[top][address][title]`,action:()=>e.jsxs(p,{xs:12,children:[e.jsx("h3",{className:"col-12",children:"Top"}),e.jsx(i,{sm:!0}),e.jsx("h4",{className:"col-12",children:"Adress"})]})},{regex:`${d}[top][phone_email][title]`,action:()=>e.jsxs(p,{xs:12,children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Phone & e-mail"})]})},{regex:`${d}[top][newsletter][title]`,action:()=>e.jsxs(p,{xs:12,children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Newsletter"})]})},{regex:`${d}[top][partners][title]`,action:()=>e.jsxs(p,{xs:12,children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Partners"})]})},{regex:`${d}[top][facebook_likes][title]`,action:()=>e.jsxs(p,{xs:12,children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Facebook likes"})]})},{regex:`${d}[bottom][all_rights_reserved]`,action:()=>e.jsxs(p,{xs:12,children:[e.jsx(i,{}),e.jsx("h3",{className:"col-12",children:"Bottom"})]})},{regex:`${d}[bottom][social_networks][facebook]`,action:()=>e.jsxs(p,{xs:12,children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Social networks links"})]})}]),N=_.pages.home,m=`${x}[pages][home]`,h=s==null?void 0:s.home,l=["home"],R=S(s,n)(N,m,h,l,[{regex:`${m}[banner][carousel][0][src]`,action:()=>e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"col-12",children:"Banner"}),e.jsx(i,{sm:!0}),e.jsx("h4",{className:"col-12",children:"Carousel"})]})},{regex:`${m}[banner][body][title]`,action:()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Body"})]})},{regex:`${m}[features][from_air]`,action:()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Features"})]})},{regex:`${m}[qualification_assistance][title]`,action:()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Qualification assistance"})]})},{regex:`${m}[products][title]`,action:()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Our products"})]})},{regex:`${m}[squares][education_kits][title]`,action:()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Squares"})]})},{regex:`${m}[blog][title]`,action:()=>e.jsxs(e.Fragment,{children:[e.jsx(i,{}),e.jsx("h4",{className:"col-12",children:"Our blog"})]})}]),P=Object.keys(_.pages).filter(c=>!["home"].includes(c)).map(c=>{const u=_.pages[c],E=`${x}[pages][${c}]`,z=s==null?void 0:s[c],B=[c],H=S(s,n)(u,E,z,B),L=r.abbr+"-"+c;return e.jsx(j,{className:`pt-4 ${t===L?"":"d-none"}`,children:H},r.abbr+"-"+E)});return e.jsxs(j,{children:[e.jsx("div",{className:"col-md-6 col-xl-4 col-xxl-3",children:e.jsx(I,{children:e.jsx(O,{type:"select",name:"tab",onChange:f,className:"text-capitalize",value:t,children:D})})}),e.jsxs("div",{className:"col-12",children:[e.jsx(j,{className:`pt-4 ${t===r.abbr+"-header"?"":"d-none"}`,children:w}),e.jsx(j,{className:`pt-4 ${t===r.abbr+"-footer"?"":"d-none"}`,children:F}),e.jsx(j,{className:`pt-4 ${t===r.abbr+"-home"?"":"d-none"}`,children:R}),P]})]},"Languages-"+r.abbr)};class ie extends A.Component{constructor(){super(...arguments);T(this,"state",{abbr:"fr"});T(this,"submitHandler",async t=>{var o,s;t.preventDefault(),await((s=(o=this.props).patch)==null?void 0:s.call(o,t.target))});T(this,"inputChangeHandler",t=>{const{name:o,value:s,files:n}=t.target;this.setState({[o]:n?n[0]:s})})}static getDerivedStateFromProps(t,o){var s,n;if((n=(s=t.backend)==null?void 0:s.cms)!=null&&n.cms&&o.app_name===""){const{backend:{cms:{cms:{frontend:f}}}}=t;return U(o,{...f})}return o}async componentDidMount(){var t,o,s,n;(o=(t=this.props).reset)==null||o.call(t),(n=(s=this.props).get)==null||n.call(s)}componentWillUnmount(){var t,o;(o=(t=this.props).reset)==null||o.call(t)}render(){var C,y,F;if(!((C=this.props.content)!=null&&C.cms)||!((y=this.props.backend)!=null&&y.cms)||!((F=this.props.auth)!=null&&F.data))return null;let{content:{cms:{pages:{components:{form:{save:t}},backend:{pages:{cms:{title:o,frontend:s}}}}}},backend:{cms:{loading:n,error:f,message:D,cms:x,languages:b}},auth:{data:{role:{features:k}}}}=this.props;const{abbr:v}=this.state;let g=null,w=null;const $=k.find(N=>N.prefix==="cms"),d=!($&&JSON.parse($.permissions).includes("u"))&&e.jsx(W,{to:"/user/dashboard"});if(n)g=e.jsx(p,{xs:12,children:e.jsx(J,{})});else{w=e.jsx(e.Fragment,{children:e.jsx(K,{err:f})}),b||(b=[]);const N=b.map(h=>e.jsx("option",{value:h.abbr,children:h.name},Math.random()+JSON.stringify(h))),m=b.map(h=>{const l=x==null?void 0:x.pages[h.abbr].frontend,R={header:l==null?void 0:l.header,footer:l==null?void 0:l.footer,...l==null?void 0:l.pages};return e.jsx("div",{className:h.abbr===v?"":"d-none",children:e.jsx(ne,{frontend:R,language:h})},Math.random())});g=e.jsxs(p,{lg:9,children:[e.jsx(te,{message:D}),e.jsxs(j,{children:[e.jsx("input",{type:"hidden",name:"_method",defaultValue:"PATCH"}),e.jsx("div",{className:"col-md-6 col-xl-4 col-xxl-3",children:e.jsx(I,{children:e.jsx(O,{type:"select",name:"abbr",onChange:this.inputChangeHandler,value:v,children:N})})}),e.jsx("div",{className:"col-12",children:m}),e.jsx("div",{className:"col-12",children:e.jsx(ee,{color:"green",icon:"save",children:t})})]})]})}return e.jsxs(e.Fragment,{children:[e.jsxs(se,{children:[e.jsx(Q,{main:s,icon:q}),e.jsx(Y,{children:o}),e.jsx(Z,{children:s})]}),e.jsxs("div",{className:"p-4 pb-0",children:[d,w,e.jsx(j,{children:e.jsx(X,{onSubmit:this.submitHandler,icon:q,title:s,link:"/admin/cms",innerClassName:"row justify-content-center",children:g})})]})]})}}const ce=a=>({...a}),le=a=>({get:()=>a(re()),patch:r=>a(oe("frontend",r)),reset:()=>a(ae())}),$e=M(ce,le)(ie);export{$e as default};
